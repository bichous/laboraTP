(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(66),o=n.n(c),u=n(35);var i,l=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Not found"))},s=n(45),m=n(36),p=n(67),d=n(68),f=n(77),h=n(69),g=n(78),v=n(14),b=n.n(v),w=n(26),E=n(46),O=n.n(E);i="here should be your production endpoint";var j=O.a.create({withCredentials:!0,baseURL:i}),y={signup:function(){var e=Object(w.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/auth/signup",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(w.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/auth/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logOut:function(){var e=Object(w.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/auth/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},L=Object(a.createContext)(),x=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={formOrder:{productList:[],combo:[],status:"",userId:"",totalPrice:"",tableId:""},formLogin:{email:"",password:""},isLoggedIn:!1},n.handleLoginInput=function(e){var t=e.target,a=t.name,r=t.value;n.setState((function(e){return Object(m.a)({},e,{formLogin:Object(m.a)({},e.formLogin,Object(s.a)({},a,r))})}))},n.handleOrderSubmit=function(e){e.preventDefault();var t=n.state.formOrder,a=t.productList,r=t.combo,c=t.status,o=t.userId,u=t.totalPrice,i=t.tableId;y.createOrder({productList:a,combo:r,status:c,userId:o,totalPrice:u,tableId:i}).then((function(e){e.data;n.setState((function(e){return Object(m.a)({},e,{formOrder:{productList:[],combo:[],status:"",userId:"",totalPrice:"",tableId:""}})})),alert(":)"),n.props.history.push("/")})).catch((function(){alert(":(, chaleee")}))},n.handleLoginSubmit=function(e){e.preventDefault();var t=n.state.formLogin,a=t.email,r=t.password;y.login({email:a,password:r}).then((function(e){var t=e.data;n.setState((function(e){return Object(m.a)({},e,{formLogin:{email:"",password:""},loggedUser:t.user,isLoggedIn:!0})})),n.props.history.push("/menu")})).catch((function(){alert("Your password or email was wrong")}))},n.handleLogout=function(){y.logOut().then((function(e){window.localStorage.clear(),n.setState({isLoggedIn:!1}),n.props.history.push("/")})).catch((function(e){return console.log(e)}))},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=this.handleOrderSubmit,n=this.handleLoginInput,a=this.handleLoginSubmit,c=this.handleFile,o=this.handleLogout;return r.a.createElement(L.Provider,{value:{state:e,handleOrderSubmit:t,handleLoginInput:n,handleLoginSubmit:a,handleFile:c,handleLogout:o}},this.props.children)}}]),t}(a.Component),k=Object(u.f)(x),S=n(71),I=n(75),C=n(121),P=n(117),F=n(72),B=n(76),R=n(9),D=n(115),M=n(116),$=n(119);var T=function(e){var t=e.width,n=e.children,a=e.title,c=e.submit;return r.a.createElement(R.a,{onSubmit:c,as:"form",w:t||"350px",boxShadow:"xl"},r.a.createElement(D.a,{spacing:8,p:8},r.a.createElement(M.a,{textAlign:"center",as:"h1"},a),n,r.a.createElement($.a,{type:"submit"},a)))};var U,q=function(){return r.a.createElement(L.Consumer,null,(function(e){return r.a.createElement(S.a,{w:"100vw",h:"90vh",align:"center",justify:"center"},r.a.createElement(T,{submit:e.handleLoginSubmit,title:"Login"},r.a.createElement(I.a,{isRequired:!0},r.a.createElement(C.a,null,r.a.createElement(P.a,{children:r.a.createElement(F.a,{name:"email"})}),r.a.createElement(B.a,{onChange:e.handleLoginInput,placeholder:"Email",name:"email",type:"email",value:e.state.formLogin.email}))),r.a.createElement(I.a,{isRequired:!0},r.a.createElement(C.a,null,r.a.createElement(P.a,{children:r.a.createElement(F.a,{name:"lock"})}),r.a.createElement(B.a,{onChange:e.handleLoginInput,placeholder:"Password",name:"password",type:"password",value:e.state.formLogin.password})))))}))},z=n(53);U="here should be your production endpoint";var A=O.a.create({withCredentials:!0,baseURL:U}),J={allProducts:function(){var e=Object(w.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/product/allProducts");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),createProduct:function(){var e=Object(w.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("/product/create",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var W=function(){var e,t,n=Object(a.useState)([]),c=Object(z.a)(n,2),o=c[0],u=c[1],i=Object(a.useState)([]),l=Object(z.a)(i,2),s=l[0],m=l[1],p=Object(a.useState)(!0),d=Object(z.a)(p,2),f=(d[0],d[1],[]),h=[],g=0,v=function(){var e=Object(w.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.allProducts();case 2:t=e.sent,n=t.data.products.filter((function(e){return"Rest Day"===e.menu&&!e.extra})),u(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(w.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.allProducts();case 2:t=e.sent,n=t.data.products.filter((function(e){return"Breakfast"===e.menu})),u(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e){var t=e.target,n=t.value;t.id;if(f.includes(n)){var a=f.indexOf(n);f.splice(a,1)}else f.push(n)};if(Object(a.useEffect)((function(){J.allProducts().then((function(e){var t=e.data.products.filter((function(e){return"Breakfast"===e.menu}));u(t)})).catch((function(e){return console.log(e)}))}),[]),void 0===o)return null;if(e=o.map((function(e,t){return r.a.createElement($.a,{onClick:O,value:e._id,id:t,key:t,marginLeft:"2vw",size:"lg"},e.name," ",r.a.createElement("br",null),"S/. ",e.price)})),0!==s.length&&1==s.length&&(t=s.map((function(e,t){return r.a.createElement("li",{key:t},e.name,"....... $",e.price)})),g=s[0].price),0!==s.length&&s.length>1){t=s.map((function(e,t){return r.a.createElement("li",{key:t},e.name,"....... $",e.price)}));for(var j=0;j<s.length;j++)g+=s[j].price}return r.a.createElement(L.Consumer,null,(function(n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{w:"25vw",h:"6vh",justify:"space-between",marginLeft:"3vw",marginTop:".5vh"},r.a.createElement($.a,{variantColor:"green",onClick:E},"Desayuno"),r.a.createElement($.a,{variantColor:"green",onClick:v},"Comida/Cena")),r.a.createElement(S.a,{w:"100vw",h:"100vh"},r.a.createElement(S.a,{w:"60vw",h:"40vh",marginTop:"4vh",wrap:"wrap",justify:"space-around"},e),r.a.createElement(S.a,{w:"35vw",h:"80vh",justify:"center",alignItems:"center",direction:"column"},r.a.createElement("ul",null,t),"Total price = $",g,r.a.createElement(S.a,{justify:"space-between",w:"20vw"},r.a.createElement($.a,{onClick:function(){var e;e=f,o.map((function(t){e.includes(t._id)&&h.push(t)})),m(h)}},"Preview"),r.a.createElement($.a,null,"Order")))))}))},_=n(37),H={style:{padding:"20px"},activeStyle:{color:"white"}};function N(e){return r.a.createElement(L.Consumer,null,(function(e){return r.a.createElement(S.a,{w:"100vw",h:"10vh",bg:"gray.500",align:"center",justify:"flex-end"},!e.state.isLoggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_.b,Object.assign({},H,{exact:!0,to:"/"}),"Login")),e.state.isLoggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_.b,Object.assign({},H,{exact:!0,to:"/menu"}),"Menu"),r.a.createElement("span",{onClick:function(){return e.handleLogout()}},r.a.createElement("button",{style:H.style},"Logout"))))}))}var Y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:q}),r.a.createElement(u.a,{exact:!0,path:"/menu",component:W}),r.a.createElement(u.a,{component:l})))},G=n(33),K=n(120),Q=n(118),V={user:{path:r.a.createElement("path",{d:"M12.075,10.812c1.358-0.853,2.242-2.507,2.242-4.037c0-2.181-1.795-4.618-4.198-4.618S5.921,4.594,5.921,6.775c0,1.53,0.884,3.185,2.242,4.037c-3.222,0.865-5.6,3.807-5.6,7.298c0,0.23,0.189,0.42,0.42,0.42h14.273c0.23,0,0.42-0.189,0.42-0.42C17.676,14.619,15.297,11.677,12.075,10.812 M6.761,6.775c0-2.162,1.773-3.778,3.358-3.778s3.359,1.616,3.359,3.778c0,2.162-1.774,3.778-3.359,3.778S6.761,8.937,6.761,6.775 M3.415,17.69c0.218-3.51,3.142-6.297,6.704-6.297c3.562,0,6.486,2.787,6.705,6.297H3.415z"}),viewBox:"0 0 20 20"}},X=Object(m.a)({},Q.a,{icons:Object(m.a)({},Q.a.icons,{},V)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Z(){return r.a.createElement(G.a,{theme:X},r.a.createElement(K.a,null),r.a.createElement(Y,null))}o.a.render(r.a.createElement((function(){return r.a.createElement(_.a,null,r.a.createElement(k,null,r.a.createElement(Z,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},79:function(e,t,n){e.exports=n(113)}},[[79,1,2]]]);
//# sourceMappingURL=main.a29e07e6.chunk.js.map